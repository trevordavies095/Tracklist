/* Custom styles for Tracklist application */

/* HTMX Loading States */
.htmx-indicator {
    display: none;
}

.htmx-request .htmx-indicator {
    display: flex;
}

.htmx-request.htmx-indicator {
    display: flex;
}

/* Rating Button Styles */
.rating-button {
    transition: all 0.2s;
    transform: scale(1);
    outline: none;
    cursor: pointer;
}

.rating-button:hover {
    transform: scale(1.05);
}

.rating-button:active {
    transform: scale(0.95);
}

.rating-button:focus {
    outline: none;
    box-shadow: 0 0 0 2px white, 0 0 0 4px currentColor;
}

.rating-button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: none;
}

.rating-button.selected {
    transform: scale(1.05);
    box-shadow: 0 0 0 3px white, 0 0 0 5px currentColor;
    font-weight: 700;
    position: relative;
    z-index: 10;
}

.rating-button-skip {
    background-color: #ef4444; /* Red - Skip */
    color: white;
}

.rating-button-skip:hover {
    background-color: #dc2626;
}

.rating-button-skip:focus {
    --tw-ring-color: #ef4444;
}

.rating-button-skip.selected {
    background-color: #dc2626;
    box-shadow: 0 0 0 3px white, 0 0 0 5px #dc2626;
}

.rating-button-filler {
    background-color: #f59e0b; /* Orange/Yellow - Filler */
    color: white;
}

.rating-button-filler:hover {
    background-color: #d97706;
}

.rating-button-filler:focus {
    --tw-ring-color: #f59e0b;
}

.rating-button-filler.selected {
    background-color: #d97706;
    box-shadow: 0 0 0 3px white, 0 0 0 5px #d97706;
}

.rating-button-good {
    background-color: #22c55e; /* Light Green - Good */
    color: white;
}

.rating-button-good:hover {
    background-color: #16a34a;
}

.rating-button-good:focus {
    --tw-ring-color: #22c55e;
}

.rating-button-good.selected {
    background-color: #16a34a;
    box-shadow: 0 0 0 3px white, 0 0 0 5px #16a34a;
}

.rating-button-standout {
    background-color: #15803d; /* Dark Green - Standout */
    color: white;
}

.rating-button-standout:hover {
    background-color: #166534;
}

.rating-button-standout:focus {
    --tw-ring-color: #15803d;
}

.rating-button-standout.selected {
    background-color: #166534;
    box-shadow: 0 0 0 3px white, 0 0 0 5px #166534;
}

/* Progress Bar Animation */
.progress-bar {
    transition: width 0.3s ease-in-out;
}

/* Score Animation */
.score-change {
    animation: scoreUpdate 0.5s ease-in-out;
}

@keyframes scoreUpdate {
    0% { transform: scale(1); }
    50% { transform: scale(1.05); }
    100% { transform: scale(1); }
}

/* Album Card Hover Effects */
.album-card {
    @apply transition-all duration-200 hover:shadow-lg hover:-translate-y-1;
}

/* Search Input Focus */
.search-input:focus {
    @apply ring-2 ring-blue-500 border-blue-500;
}

/* Track Row Hover */
.track-row {
    @apply transition-colors duration-150 hover:bg-gray-50;
}

.track-row.rated {
    @apply bg-green-50 border-l-4 border-green-400;
}

/* Mobile Responsive Adjustments */
@media (max-width: 640px) {
    .rating-button {
        @apply text-xs px-2 py-1;
    }
    
    .album-card {
        @apply hover:transform-none hover:shadow-md;
    }
}

/* Auto-save Feedback */
.auto-save-success {
    @apply animate-pulse text-green-600;
}

.auto-save-error {
    @apply animate-pulse text-red-600;
}

/* Submission Success Animation */
.submission-success {
    animation: celebration 0.6s ease-in-out;
}

@keyframes celebration {
    0%, 100% { transform: scale(1); }
    25% { transform: scale(1.02) rotate(1deg); }
    75% { transform: scale(1.02) rotate(-1deg); }
}

/* Tooltip Styles */
.tooltip {
    position: absolute;
    z-index: 10;
    padding: 0.25rem 0.5rem;
    font-size: 0.75rem;
    font-weight: 500;
    color: white;
    background-color: #1f2937;
    border-radius: 0.375rem;
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    opacity: 0;
    visibility: hidden;
    transition: all 0.2s;
    pointer-events: none;
    white-space: nowrap;
}

.tooltip-trigger:hover .tooltip {
    opacity: 1;
    visibility: visible;
}

/* Loading Skeleton */
.loading-skeleton {
    @apply animate-pulse bg-gray-200 rounded;
}

/* Error States */
.error-message {
    @apply text-red-600 text-sm mt-1;
}

.error-input {
    @apply border-red-300 focus:border-red-500 focus:ring-red-500;
}

/* Success States */
.success-message {
    @apply text-green-600 text-sm mt-1;
}

/* Focus Trap for Accessibility */
.focus-trap:focus {
    @apply outline-none ring-2 ring-blue-500 ring-offset-2;
}

/* Score-based Colors (matching track rating buttons) */
.score-red {
    color: #ef4444 !important; /* Red - 0-32 (Skip range) */
}

.score-orange {
    color: #f59e0b !important; /* Orange/Yellow - 33-66 (Filler range) */
}

.score-light-green {
    color: #22c55e !important; /* Light Green - 67-99 (Good range) */
}

.score-dark-green {
    color: #15803d !important; /* Dark Green - 100 (Standout range) */
}

/* Background variants for badges/status indicators */
.score-bg-red {
    background-color: #ef4444;
    color: white;
}

.score-bg-orange {
    background-color: #f59e0b;
    color: white;
}

.score-bg-light-green {
    background-color: #22c55e;
    color: white;
}

.score-bg-dark-green {
    background-color: #15803d;
    color: white;
}

/* Mobile-Optimized Styles for Homepage */
@media (max-width: 640px) {
    /* Compact welcome header */
    .mobile-compact-header h1 {
        font-size: 1.75rem !important;
        margin-bottom: 0.5rem !important;
    }
    
    .mobile-compact-header p {
        font-size: 0.875rem !important;
        line-height: 1.25rem !important;
    }
    
    /* Quick action cards - full width and compact */
    .mobile-action-card {
        padding: 1rem !important;
    }
    
    .mobile-action-card .mobile-icon-box {
        width: 2.5rem !important;
        height: 2.5rem !important;
    }
    
    .mobile-action-card h3 {
        font-size: 1rem !important;
    }
    
    .mobile-action-card p {
        font-size: 0.75rem !important;
    }
    
    /* Album cards - more compact */
    .mobile-album-card {
        padding: 0.75rem !important;
    }
    
    .mobile-album-card .album-art {
        width: 3rem !important;
        height: 3rem !important;
        flex-shrink: 0;
    }
    
    .mobile-album-card .album-art svg {
        width: 1.5rem !important;
        height: 1.5rem !important;
    }
    
    /* Rating scale - 2x2 grid */
    .mobile-rating-grid {
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 0.5rem !important;
    }
    
    .mobile-rating-item {
        padding: 0.5rem !important;
    }
    
    .mobile-rating-item .rating-icon {
        width: 1.75rem !important;
        height: 1.75rem !important;
        font-size: 0.625rem !important;
    }
    
    .mobile-rating-item .rating-label {
        font-size: 0.875rem !important;
    }
    
    .mobile-rating-item .rating-desc {
        font-size: 0.625rem !important;
    }
    
    /* Hide getting started guide steps on mobile by default */
    .mobile-collapsible {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.3s ease-out;
    }
    
    .mobile-collapsible.expanded {
        max-height: 500px;
    }
    
    /* Reduce section spacing */
    .mobile-section-spacing {
        margin-bottom: 2rem !important;
    }
    
    /* Hide loading skeletons beyond 3 on mobile */
    .mobile-hide-skeleton:nth-child(n+4) {
        display: none !important;
    }
    
    /* Compact section headers */
    .mobile-section-header h2 {
        font-size: 1.25rem !important;
    }
    
    .mobile-section-header a {
        font-size: 0.75rem !important;
    }
}

/* Tablet adjustments */
@media (min-width: 641px) and (max-width: 768px) {
    .tablet-album-card {
        padding: 1rem !important;
    }
    
    .tablet-album-art {
        width: 4rem !important;
        height: 4rem !important;
    }
}

/* Print Styles */
@media print {
    .no-print {
        display: none;
    }
    
    .print-break {
        page-break-after: always;
    }
}